(this.webpackJsonpfilms=this.webpackJsonpfilms||[]).push([[0],{119:function(e,t,n){"use strict";n.r(t),n.d(t,"ADD",(function(){return r})),n.d(t,"REMOVE",(function(){return c}));var r="AUTH/ADD",c="AUTH/REMOVE"},18:function(e,t,n){"use strict";n.r(t),n.d(t,"moduleName",(function(){return i}));var r=n(207);n.d(t,"actions",(function(){return r}));var c=n(208);n.d(t,"constants",(function(){return c}));var a=n(246);n.d(t,"reducer",(function(){return a.default}));var s=n(248);n.d(t,"saga",(function(){return s.default}));var u=n(209);n.d(t,"selectors",(function(){return u}));var i="Main"},194:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return S})),n.d(t,"persistor",(function(){return A}));var r={};n.r(r),n.d(r,"getAllModules",(function(){return f})),n.d(r,"getAllModuleReducers",(function(){return l})),n.d(r,"getAllModuleSagas",(function(){return j}));var c=n(53),a=n(108),s=n(357),u=n(120),i=n.n(u),o=n(173),d=n(31),f=function(e){var t;return(t=e).keys().map((function(e){return t(e)})).filter((function(e){return e.moduleName}))},l=function(e){return f(e,!0).filter((function(e){return e.reducer})).reduce((function(e,t){return Object(d.a)(Object(d.a)({},e),{},Object(o.a)({},t.moduleName,t.reducer))}),{})},j=function(e){return f(e,!1).filter((function(e){return e.saga})).map((function(e){return e.saga}))},b=function(){return n(426)},O=n(349),E=r.getAllModuleReducers(b()),p=Object(c.c)(Object(d.a)({firebase:O.firebaseReducer},E)),h=n(52),v=n.n(h),m=n(44),D=v.a.mark(g);function g(){var e,t;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(m.a)(r.getAllModuleSagas(b()));case 2:return e=r.getAllModuleSagas(b()),t=e.map((function(e){return Object(m.d)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,Object(m.b)(e);case 4:return t.abrupt("break",12);case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0,"Saga crash detected");case 10:t.next=0;break;case 12:case"end":return t.stop()}}),t,null,[[1,7]])})))})),n.next=6,Object(m.a)(t);case 6:case"end":return n.stop()}}),D)}var x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.reduxDevTools,u=void 0!==r&&r,o=Object(s.a)(),d={key:"root",storage:i.a,whitelist:[]},f=Object(a.a)(d,e),l=u&&"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0})||c.d,j=Object(c.e)(f,l(Object(c.a)(o))),b=Object(a.b)(j);return o.run(t),{store:j,persistor:b}}(p,g,{reduxDevTools:"true"}),S=x.store,A=x.persistor},206:function(e,t,n){},207:function(e,t,n){"use strict";n.r(t),n.d(t,"get",(function(){return a})),n.d(t,"add",(function(){return s})),n.d(t,"remove",(function(){return u}));var r=n(18),c=n(55),a={request:function(){return Object(c.a)(r.constants.LIST_REQUESTED)},success:function(e){return Object(c.a)(r.constants.LIST_SUCCEEDED,{response:e})},failure:function(e,t){return Object(c.a)(r.constants.LIST_FAILED,{response:e,message:t})}},s={request:function(e){return Object(c.a)(r.constants.ADD_REQUESTED,{data:e})},success:function(){return Object(c.a)(r.constants.ADD_SUCCEEDED)},failure:function(e,t){return Object(c.a)(r.constants.ADD_FAILED,{response:e,message:t})}},u={request:function(e){return Object(c.a)(r.constants.REMOVE_REQUESTED,{id:e})},success:function(){return Object(c.a)(r.constants.REMOVE_SUCCEEDED)},failure:function(e,t){return Object(c.a)(r.constants.REMOVE_FAILED,{response:e,message:t})}}},208:function(e,t,n){"use strict";n.r(t),n.d(t,"LIST_REQUESTED",(function(){return r})),n.d(t,"LIST_SUCCEEDED",(function(){return c})),n.d(t,"LIST_FAILED",(function(){return a})),n.d(t,"ADD_REQUESTED",(function(){return s})),n.d(t,"ADD_SUCCEEDED",(function(){return u})),n.d(t,"ADD_FAILED",(function(){return i})),n.d(t,"REMOVE_REQUESTED",(function(){return o})),n.d(t,"REMOVE_SUCCEEDED",(function(){return d})),n.d(t,"REMOVE_FAILED",(function(){return f}));var r="MAIN/LIST_REQUESTED",c="MAIN/LIST_SUCCEEDED",a="MAIN/LIST_FAILED",s="MAIN/ADD_REQUESTED",u="MAIN/ADD_SUCCEEDED",i="MAIN/ADD_FAILED",o="MAIN/REMOVE_REQUESTED",d="MAIN/REMOVE_SUCCEEDED",f="MAIN/REMOVE_FAILED"},209:function(e,t,n){"use strict";n.r(t),n.d(t,"selectList",(function(){return a}));var r=n(174),c=n(18),a=Object(r.a)((function(e){return e[c.moduleName]}),(function(e){return e.list}))},210:function(e,t,n){"use strict";n.r(t),n.d(t,"user",(function(){return a}));var r=n(62),c=n(55),a={add:function(e){if(e)return Object(c.a)(r.constants.ADD,{user:e.providerData[0]})},remove:function(){return Object(c.a)(r.constants.REMOVE)}}},211:function(e,t,n){"use strict";n.r(t),n.d(t,"selectUser",(function(){return a}));var r=n(174),c=n(62),a=Object(r.a)((function(e){return e[c.moduleName]}),(function(e){return e.user.user}))},246:function(e,t,n){"use strict";n.r(t);var r=n(53),c=n(31),a=n(120),s=n.n(a),u=n(108),i=n(18),o=n(55),d={statuses:{isStarted:!1,isPending:!1,isFinished:!1,isFailed:!1,isSucceed:!1},error:{message:""},data:[]},f={key:"list",storage:s.a},l=Object(u.a)(f,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.constants.LIST_REQUESTED:return Object(c.a)(Object(c.a)({},e),{},{statuses:Object(c.a)(Object(c.a)({},e.statuses),{},{isStarted:!0,isPending:!0})});case i.constants.LIST_SUCCEEDED:return Object(c.a)(Object(c.a)({},e),{},{statuses:{isStarted:!1,isPending:!1,isFinished:!0,isFailed:!1,isSucceed:!0},data:Object(o.b)((function(){return t.payload.response.data}),[])});case i.constants.LIST_FAILED:return Object(c.a)(Object(c.a)({},d),{},{statuses:{isStarted:!1,isPending:!1,isFinished:!0,isFailed:!0,isSucceed:!1},error:{message:Object(o.b)((function(){return t.payload.message}),"")}});default:return e}})),j={statuses:{isStarted:!1,isPending:!1,isFinished:!1,isFailed:!1,isSucceed:!1},error:{message:""}},b={list:l,add:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.constants.ADD_REQUESTED:return Object(c.a)(Object(c.a)({},j),{},{statuses:Object(c.a)(Object(c.a)({},e.statuses),{},{isStarted:!0,isPending:!0})});case i.constants.ADD_SUCCEEDED:return Object(c.a)(Object(c.a)({},e),{},{statuses:{isStarted:!1,isPending:!1,isFinished:!0,isFailed:!1,isSucceed:!0}});case i.constants.ADD_FAILED:return Object(c.a)(Object(c.a)({},j),{},{statuses:{isStarted:!1,isPending:!1,isFinished:!0,isFailed:!0,isSucceed:!1},error:{message:Object(o.b)((function(){return t.payload.message}),"")}});default:return e}}},O=Object(r.c)(b);t.default=O},247:function(e,t,n){"use strict";n.r(t);var r=n(53),c=n(120),a=n.n(c),s=n(108),u=n(119),i={user:null},o={key:"user",storage:a.a},d={user:Object(s.a)(o,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.ADD:return{user:t.payload.user};case u.REMOVE:return{user:null};default:return e}}))},f=Object(r.c)(d);t.default=f},248:function(e,t,n){"use strict";n.r(t),n.d(t,"getList",(function(){return m})),n.d(t,"addElement",(function(){return D})),n.d(t,"remove",(function(){return g})),n.d(t,"default",(function(){return x}));var r=n(31),c=n(52),a=n.n(c),s=n(44),u=n(18),i=n(250),o=n(63),d=o.c.collection("films");function f(e){var t=d.doc();return e.id=t.id,t.set(e)}function l(){return j.apply(this,arguments)}function j(){return(j=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.c.collection("films"),e.abrupt("return",t.orderBy("addDate","desc").get());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return O.apply(this,arguments)}function O(){return(O=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.doc(t).delete());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=a.a.mark(m),p=a.a.mark(D),h=a.a.mark(g),v=a.a.mark(x);function m(){var e,t,n,r;return a.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(s.b)(l);case 3:return e=c.sent,t=[],e.forEach((function(e){t.push(e.data())})),c.next=8,Object(s.c)(u.actions.get.success({data:t}));case 8:c.next=15;break;case 10:return c.prev=10,c.t0=c.catch(0),n=c.t0.response,r=c.t0.message,c.next=15,Object(s.c)(u.actions.get.failure(n,r));case 15:case"end":return c.stop()}}),E,null,[[0,10]])}function D(e){var t,n,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.data,a.prev=1,a.next=4,Object(s.b)(f,Object(r.a)(Object(r.a)({},t),{},{addDate:(new Date).getTime()}));case 4:return a.next=6,Object(s.a)([Object(s.c)(u.actions.add.success()),Object(s.c)(u.actions.get.request())]);case 6:a.next=13;break;case 8:return a.prev=8,a.t0=a.catch(1),n=a.t0.response,c=a.t0.message,a.next=13,Object(s.c)(u.actions.add.failure(n,c));case 13:case"end":return a.stop()}}),p,null,[[1,8]])}function g(e){var t,n,r;return a.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload.id,c.prev=1,c.next=4,Object(s.b)(b,t);case 4:return c.next=6,Object(s.a)([Object(s.c)(u.actions.add.success()),Object(s.c)(u.actions.get.request())]);case 6:c.next=13;break;case 8:return c.prev=8,c.t0=c.catch(1),n=c.t0.response,r=c.t0.message,c.next=13,Object(s.c)(u.actions.add.failure(n,r));case 13:case"end":return c.stop()}}),h,null,[[1,8]])}function x(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.e)(u.constants.LIST_REQUESTED,m);case 2:return e.next=4,Object(s.e)(u.constants.ADD_REQUESTED,D);case 4:return e.next=6,Object(s.e)(u.constants.REMOVE_REQUESTED,g);case 6:case"end":return e.stop()}}),v)}},369:function(e,t,n){},426:function(e,t,n){var r={"./Auth/actions/index.js":210,"./Auth/constants/index.js":119,"./Auth/index.js":62,"./Auth/reducers/index.js":247,"./Auth/selectors/index.js":211,"./Main/actions/index.js":207,"./Main/constants/index.js":208,"./Main/index.js":18,"./Main/reducers/index.js":246,"./Main/sagas/index.js":248,"./Main/selectors/index.js":209};function c(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}c.keys=function(){return Object.keys(r)},c.resolve=a,e.exports=c,c.id=426},547:function(e,t,n){"use strict";n.r(t);var r,c,a,s,u,i=n(0),o=n.n(i),d=n(41),f=n.n(d),l=(n(369),n(64)),j=(n(206),n(356)),b=n(45),O=n(354),E=n(67),p=n(18),h=n(62),v=n(557),m=n(68),D=n(552),g=n(553),x=n(73),S=n(74),A=n(31),y=n(550),_=n(549),I=n(343),w=n(551),C=n(13),M=y.a.Column,T=Object(m.a)(y.a)(r||(r=Object(E.a)(["\n  width: 80%;\n  margin: 0 auto;\n"]))),R=function(e){var t=e.data,n=Object(l.b)(),r=Object(i.useCallback)((function(e){return function(){n(p.actions.remove.request(e))}}),[n]),c=t.map((function(e){return Object(A.a)(Object(A.a)({},e),{},{key:e.id})}));return Object(C.jsxs)(T,{dataSource:c,pagination:{current:1,pageSize:20},children:[Object(C.jsx)(M,{title:"Date",dataIndex:"addDate",render:function(e){return function(e){var t=new Date(e);return Object(I.a)(t)?Object(w.a)(t,"yyyy.MM.dd 'at' HH:mm:ss"):"undefined"}(e)}},"addDate"),Object(C.jsx)(M,{title:"Name",dataIndex:"name"},"name"),Object(C.jsx)(M,{title:"Action",dataIndex:"action",render:function(e,t){return Object(C.jsx)(_.a,{title:"Sure to delete?",onConfirm:r(t.id),children:Object(C.jsx)(S.a,{children:"delete"})})}},"action")]})},U=n(63),L=n(556),k=function(){var e=Object(l.b)();return Object(C.jsx)(x.a,{title:"Sign Out",children:Object(C.jsx)(S.a,{onClick:function(){U.a.signOut().then((function(){return e(h.actions.user.remove())})).catch((function(e){return console.log(e)}))},icon:Object(C.jsx)(L.a,{})})})},F=D.a.Title,N=g.a.Search,V=m.a.div(c||(c=Object(E.a)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),P=Object(m.a)(N)(a||(a=Object(E.a)(["\n  width: 250px;\n"]))),Q=Object(m.a)(F)(s||(s=Object(E.a)(["\n  text-align: center;\n  font-style: italic;\n"]))),q=function(){var e=Object(l.b)(),t=Object(l.c)(p.selectors.selectList),n=Object(l.c)(h.selectors.selectUser),r=Object(i.useState)([]),c=Object(O.a)(r,2),a=c[0],s=c[1];Object(i.useEffect)((function(){s(t.data)}),[t]),Object(i.useEffect)((function(){e(p.actions.get.request())}),[e]);var u=Object(i.useCallback)((function(t){e(p.actions.add.request({name:t}))}),[e]);return Object(C.jsxs)("div",{className:"App",children:[Object(C.jsxs)(Q,{type:"secondary",level:4,children:["Welcome back ",n.displayName]}),Object(C.jsxs)(V,{children:[Object(C.jsx)(P,{placeholder:"add name",allowClear:!0,enterButton:"Add",onSearch:u}),Object(C.jsx)(x.a,{title:"refresh",children:Object(C.jsx)(S.a,{type:"primary",onClick:function(){e(p.actions.get.request())},icon:Object(C.jsx)(v.a,{})})}),Object(C.jsx)(k,{})]}),Object(C.jsx)("hr",{}),a&&Object(C.jsx)(R,{data:a})]})},B=n(348),z=U.c.collection("messages"),H=n(355),X=n(554),G=n(555),J=U.b.ref("messages");console.log(U.b,J);var K,W,Y,Z=Object(m.a)(X.b)(u||(u=Object(E.a)(["\n  width: 100%;\n  height: 90vh;\n  border: 1px dashed grey;\n  padding: 1rem 2rem;\n  margin:0 auto;\n  overflow-y: auto;\n"]))),$=function(e){var t=e.data,n=Object(i.useCallback)((function(e){return function(){return function(e){return z.doc(e).delete()}(e)}}),[]),r=t.map((function(e){return Object(A.a)(Object(A.a)({},e),{},{key:e.uid})})),c=Object(i.useRef)(null);return Object(i.useEffect)((function(){c.current.scrollIntoView({behavior:"smooth"})}),[r]),Object(C.jsx)(Z,{className:"demo-loadmore-list",itemLayout:"horizontal",footer:Object(C.jsx)("div",{style:{padding:0},ref:c}),dataSource:r,renderItem:function(e){return Object(C.jsx)(X.b.Item,{actions:[Object(C.jsx)(_.a,{title:"Sure to delete?",onConfirm:n(e.id),children:Object(C.jsx)(S.a,{children:"delete"})})],children:Object(C.jsx)(X.b.Item.Meta,{avatar:Object(C.jsx)(G.a,{src:e.photo}),title:e.user,description:e.text})})}})},ee=m.a.div(K||(K=Object(E.a)(["\n  width: 60%;\n  margin: 0 auto;\n"]))),te=m.a.div(W||(W=Object(E.a)(["\n  width: 100%;\n  margin: 0 auto;\n"]))),ne=function(){var e=Object(l.c)(h.selectors.selectUser),t=function(){var e=z.orderBy("createdAt").limit(25);return Object(B.a)(e,{idField:"id"})[0]}(),n=Object(i.useRef)(null),r=Object(i.useCallback)((function(t){var n;(n={uid:e.uid,text:t,photo:e.photoURL,createdAt:(new Date).getTime(),user:e.displayName},z.add(n)).then((function(e){H.b.success("successfully sent!")})).catch((function(e){H.b.error("something went wrong, for info ask customer support!")}))}),[e.displayName,e.photoURL,e.uid]);return Object(i.useEffect)((function(){console.log("lolo"),n.current.focus()}),[t]),Object(C.jsxs)(ee,{children:[t&&Object(C.jsx)($,{data:t}),Object(C.jsx)("div",{ref:n}),Object(C.jsx)(te,{children:Object(C.jsx)(g.a.Search,{allowClear:!0,placeholder:"add message",enterButton:"Send",onSearch:r})})]})},re=n(112),ce=n(195),ae=m.a.div(Y||(Y=Object(E.a)(["\n  background-color: ",";\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),ce.b.primary),se=function(){return Object(C.jsx)(ae,{children:Object(C.jsx)(S.a,{onClick:function(){var e=new re.a.auth.GoogleAuthProvider;U.a.signInWithPopup(e)},children:"Sign in with Google"})})},ue=function(){var e=Object(l.b)(),t=Object(l.c)(h.selectors.selectUser);return Object(i.useEffect)((function(){U.a.onAuthStateChanged((function(t){e(h.actions.user.add(t))}))}),[e]),t?Object(C.jsx)(j.a,{children:Object(C.jsxs)(b.c,{children:[Object(C.jsx)(b.a,{path:"/",exact:!0,children:Object(C.jsx)(q,{})}),Object(C.jsx)(b.a,{path:"/chat",exact:!0,children:Object(C.jsx)(ne,{})})]})}):Object(C.jsx)(se,{})},ie=n(194),oe=n(350),de=(n(546),function(){return Object(C.jsx)(l.a,{store:ie.store,children:Object(C.jsx)(oe.a,{persistor:ie.persistor,children:Object(C.jsx)(ue,{})})})}),fe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,558)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};f.a.render(Object(C.jsx)(o.a.StrictMode,{children:Object(C.jsx)(de,{})}),document.getElementById("root")),fe()},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a}));var r=n(92),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:e,payload:t}},a=function(e,t){try{var n=e();return Object(r.isBoolean)(t)&&!Object(r.isBoolean)(n)||(Object(r.isString)(t)&&!Object(r.isString)(n)||Object(r.isArray)(t)&&!Object(r.isArray)(n)||Object(r.isObject)(t)&&!Object(r.isObject)(n))?t:n||t}catch(c){return t}}},62:function(e,t,n){"use strict";n.r(t),n.d(t,"moduleName",(function(){return u}));var r=n(247);n.d(t,"reducer",(function(){return r.default}));var c=n(210);n.d(t,"actions",(function(){return c}));var a=n(119);n.d(t,"constants",(function(){return a}));var s=n(211);n.d(t,"selectors",(function(){return s}));var u="Auth/User"},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n(112);r.a.initializeApp({apiKey:"AIzaSyDU2aOroAgqeKemO6qdFCaRSl60PqFC5mM",authDomain:"films-77573.firebaseapp.com",projectId:"films-77573",storageBucket:"films-77573.appspot.com",messagingSenderId:"691827665866",appId:"1:691827665866:web:fe04b91804f8ca6e637d33",measurementId:"G-RS9CM5BC29"});var c=r.a.auth(),a=r.a.database(),s=r.a.firestore()}},[[547,1,2]]]);
//# sourceMappingURL=main.3a8f282f.chunk.js.map