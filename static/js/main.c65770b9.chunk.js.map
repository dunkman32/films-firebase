{"version":3,"sources":["modules/Main/reducers/list.js","modules/Main/reducers/add.js","modules/Main/reducers/index.js","adapters/helpers.js","adapters/main.tsx","modules/Main/sagas/index.js","modules sync /index.js$","helpers/index.js","components/main/index.tsx","App.tsx","reportWebVitals.ts","index.tsx","modules/Main/index.js","redux/config/helpers.js","redux/store/helpers.js","redux/store/reducers.js","redux/store/sagas.js","redux/config/store.js","redux/store/index.js","modules/Main/actions/index.js","modules/Main/constants/index.js","modules/Main/selectors/index.js"],"names":["initialState","statuses","isStarted","isPending","isFinished","isFailed","isSucceed","error","message","data","conf","key","storage","persistentReducer","persistReducer","state","action","type","constants","LIST_REQUESTED","LIST_SUCCEEDED","getProp","payload","response","LIST_FAILED","reducers","list","add","ADD_REQUESTED","ADD_SUCCEEDED","ADD_FAILED","rootReducer","combineReducers","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firestore","FILM_COLLECTION","collection","addFilm","film","doc","id","set","getFilms","a","query","orderBy","get","getList","addElement","call","querySnapshot","forEach","snapshot","push","put","actions","success","failure","addDate","Date","getTime","all","request","takeLatest","map","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","getAction","fn","defaultValue","val","isBoolean","isString","isArray","isObject","err","StyledMdRefresh","styled","MdRefresh","HeadDiv","div","ListDiv","Button","button","props","theme","main","Input","input","attrs","size","Index","dispatch","useDispatch","useSelector","selectors","selectList","useState","name","setName","rows","setRows","useEffect","takeList","useCallback","formatDate","d","date","isValid","format","className","onChange","target","value","onClick","r","App","store","persistor","path","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","moduleName","getAllModules","requireContextModules","filter","getAllModuleReducers","reducer","reduce","getAllModuleSagas","saga","getRequireContextModules","require","releaseBasedReducers","storeHelpers","firebaseReducer","rootSaga","sagas","decentralizedSagas","spawn","console","log","mySaga","reduxDevTools","sagaMiddleware","createSagaMiddleware","persistConfig","whitelist","persistedReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","trace","compose","createStore","applyMiddleware","persistStore","run","baseStore","process","REDUX_DEVTOOLS","createSelector"],"mappings":"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","file":"static/js/main.c65770b9.chunk.js","sourcesContent":["import storage from 'redux-persist/lib/storage'\nimport {persistReducer} from 'redux-persist'\nimport {constants, selectors} from '../index'\nimport {getProp} from '../../../helpers'\n\n\nexport const initialState = {\n    statuses: {\n        isStarted: false,\n        isPending: false,\n        isFinished: false,\n        isFailed: false,\n        isSucceed: false\n    },\n    error: {\n        message: ''\n    },\n    data: []\n}\n\nconst reducer =\n    (state = initialState, action) => {\n        switch (action.type) {\n            case constants.LIST_REQUESTED:\n                return {\n                    ...initialState,\n                    statuses: {\n                        ...state.statuses,\n                        isStarted: true,\n                        isPending: true,\n                    },\n                }\n            case constants.LIST_SUCCEEDED:\n                return {\n                    ...state,\n                    statuses: {\n                        isStarted: false,\n                        isPending: false,\n                        isFinished: true,\n                        isFailed: false,\n                        isSucceed: true\n                    },\n                    data: getProp(() => action.payload.response.data, [])\n                }\n            case constants.LIST_FAILED:\n                return {\n                    ...initialState,\n                    statuses: {\n                        isStarted: false,\n                        isPending: false,\n                        isFinished: true,\n                        isFailed: true,\n                        isSucceed: false\n                    },\n                    error: {\n                        message: getProp(() => action.payload.message, '')\n                    }\n                }\n\n            default:\n                return state\n        }\n    }\nconst conf = {\n    key: 'main',\n    storage\n}\n\nconst persistentReducer = persistReducer(conf, reducer)\n\nexport default persistentReducer\n","import storage from 'redux-persist/lib/storage'\nimport {persistReducer} from 'redux-persist'\nimport {constants, selectors} from '../index'\nimport {getProp} from '../../../helpers'\n\n\nexport const initialState = {\n    statuses: {\n        isStarted: false,\n        isPending: false,\n        isFinished: false,\n        isFailed: false,\n        isSucceed: false\n    },\n    error: {\n        message: ''\n    }\n}\n\nconst reducer =\n    (state = initialState, action) => {\n        switch (action.type) {\n            case constants.ADD_REQUESTED:\n                return {\n                    ...initialState,\n                    statuses: {\n                        ...state.statuses,\n                        isStarted: true,\n                        isPending: true,\n                    },\n                }\n            case constants.ADD_SUCCEEDED:\n                return {\n                    ...state,\n                    statuses: {\n                        isStarted: false,\n                        isPending: false,\n                        isFinished: true,\n                        isFailed: false,\n                        isSucceed: true\n                    },\n                }\n            case constants.ADD_FAILED:\n                return {\n                    ...initialState,\n                    statuses: {\n                        isStarted: false,\n                        isPending: false,\n                        isFinished: true,\n                        isFailed: true,\n                        isSucceed: false\n                    },\n                    error: {\n                        message: getProp(() => action.payload.message, '')\n                    }\n                }\n\n            default:\n                return state\n        }\n    }\nconst conf = {\n    key: 'main',\n    storage\n}\n\nconst persistentReducer = persistReducer(conf, reducer)\n\nexport default persistentReducer\n","import { combineReducers } from 'redux'\nimport list from './list'\nimport add from './add'\n\nconst reducers = {\n  list,\n  add\n}\n\nconst rootReducer = combineReducers(reducers)\nexport default rootReducer\n","import firebase from 'firebase';\n\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyDU2aOroAgqeKemO6qdFCaRSl60PqFC5mM\",\n    authDomain: \"films-77573.firebaseapp.com\",\n    projectId: \"films-77573\",\n    storageBucket: \"films-77573.appspot.com\",\n    messagingSenderId: \"691827665866\",\n    appId: \"1:691827665866:web:fe04b91804f8ca6e637d33\",\n    measurementId: \"G-RS9CM5BC29\"\n};\n\nfirebase.initializeApp(firebaseConfig);\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();\n","import {firestore} from \"./helpers\"\n\nconst FILM_COLLECTION = firestore.collection(\"films\")\n\nexport function addFilm(data: {\n    id?: string;\n    name: string\n}) {\n    let film = FILM_COLLECTION.doc()\n    data.id = film.id\n    return film.set(data)\n}\n\nexport async function getFilms() {\n    let query: any = firestore.collection(\"films\")\n    return query.orderBy('addDate', 'desc').get()\n}\n","import {all, call, put, takeLatest} from 'redux-saga/effects'\nimport {actions, constants} from '../index'\nimport {addFilm, getFilms} from '../../../adapters/main'\n\nexport function* getList() {\n    try {\n        const querySnapshot = yield call(getFilms)\n        const data = []\n        querySnapshot.forEach((snapshot) => {\n            data.push(snapshot.data())\n        })\n        yield put(actions.get.success({\n            data\n        }))\n    } catch (e) {\n        const {response, message} = e\n        yield put(actions.get.failure(response, message))\n    }\n}\n\nexport function* addElement(action) {\n    const {data} = action.payload\n    try {\n        yield call(addFilm, {\n            ...data,\n            addDate: (new Date().getTime())\n        })\n        yield all([\n            put(actions.add.success()),\n            put(actions.get.request()),\n        ])\n    } catch (e) {\n        const {response, message} = e\n        yield put(actions.add.failure(response, message))\n    }\n}\n\nexport default function* () {\n    yield takeLatest(constants.LIST_REQUESTED, getList)\n    yield takeLatest(constants.ADD_REQUESTED, addElement)\n}\n","var map = {\n\t\"./Main/actions/index.js\": 93,\n\t\"./Main/constants/index.js\": 94,\n\t\"./Main/index.js\": 7,\n\t\"./Main/reducers/index.js\": 131,\n\t\"./Main/sagas/index.js\": 132,\n\t\"./Main/selectors/index.js\": 96\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 232;","import {\n    isBoolean,\n    isString,\n    isArray,\n    isObject\n} from 'lodash'\n\nexport const getAction = (type, payload = {}) =>\n    ({\n        type,\n        payload\n    })\n\n// https://stackoverflow.com/a/42349521\nexport const getProp = (fn, defaultValue) => {\n    try {\n        const val = fn()\n        if (isBoolean(defaultValue) && !isBoolean(val)) {\n            return defaultValue\n        }\n        if (isString(defaultValue) && !isString(val)) {\n            return defaultValue\n        }\n        if (isArray(defaultValue) && !isArray(val)) {\n            return defaultValue\n        }\n        if (isObject(defaultValue) && !isObject(val)) {\n            return defaultValue\n        }\n        return val || defaultValue\n    } catch (err) {\n        return defaultValue\n    }\n}\n","import React, {useCallback, useEffect, useState} from 'react';\nimport '../../App.css';\nimport {useDispatch, useSelector} from 'react-redux'\nimport {actions, selectors} from '../../modules/Main'\nimport {MdRefresh} from \"react-icons/md\";\nimport styled from \"styled-components\";\nimport {format, isValid} from 'date-fns'\nconst StyledMdRefresh = styled(MdRefresh)`\n  color: green;\n  margin-left: 1rem;\n  font-size: larger;\n`;\nconst HeadDiv = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst ListDiv = styled.div`\n  width: 80%;\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: .5rem .5rem .25rem;\n  border-bottom: 1px dashed gray;\n`;\n\nconst Button = styled.button`\n  padding: 0.25rem 1rem;\n  border-radius: 3px;\n  /* Color the border and text with theme.main */\n  color: ${props => props.theme.main};\n  border: 2px solid ${props => props.theme.main};\n`;\n\nconst Input = styled.input.attrs(props => ({\n    type: \"text\",\n    size: props.size || \"1rem\",\n}))`  \n  padding: 0.25rem;\n  border: 2px solid palevioletred;\n`;\n\nconst Index = () => {\n    const dispatch = useDispatch()\n    const list = useSelector(selectors.selectList)\n    const [name, setName] = useState('')\n    const [rows, setRows] = useState([])\n\n    useEffect(() => {\n        setRows(list.data)\n    }, [list])\n\n    const takeList = () => {\n        dispatch(actions.get.request())\n    }\n    useEffect(() => {\n        takeList()\n    }, []);\n\n    const addFilm = useCallback(() => {\n        dispatch(actions.add.request({name}))\n    }, [name])\n\n    const formatDate = (d: number) => {\n        const date = new Date(d)\n        if(isValid(date)) {\n           return format(date, \"yyyy.MM.dd 'at' HH:mm:ss\")\n        }\n        return 'undefined'\n    }\n\n    return (\n        <div className=\"App\">\n            <hr/>\n            <HeadDiv>\n                <Input onChange={(e: { target: { value: React.SetStateAction<string>; }; }) => setName(e.target.value)}/>\n                <Button onClick={addFilm}> Click to Add</Button>\n                <StyledMdRefresh onClick={takeList}/>\n            </HeadDiv>\n            <hr/>\n            {\n                rows?.map((r: { addDate: number, name: string, id: string }) => <ListDiv key={r.id}>\n                    <span>{formatDate(r.addDate)}</span> <span>{r.name}</span>\n                </ListDiv>)\n            }\n        </div>\n    );\n}\n\nexport default Index;\n","import React from 'react';\nimport {Provider} from 'react-redux'\nimport {\n    HashRouter as Router,\n    Switch,\n    Route,\n} from 'react-router-dom';\nimport './App.css';\nimport Main from './components/main'\nimport {store, persistor} from './redux/store'\nimport {PersistGate as BasePersistGate} from 'redux-persist/integration/react'\n\n\nconst App = () => {\n    return (\n        <Provider store={store}>\n            <BasePersistGate persistor={persistor}>\n                <Router>\n                    <Switch>\n                        <Route path=\"/\" exact>\n                            <Main/>\n                        </Route>\n                        <Route path=\"/main\" exact>\n                            <Main/>\n                        </Route>\n                    </Switch>\n                </Router>\n            </BasePersistGate>\n        </Provider>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import * as actions from './actions'\nimport * as constants from './constants'\nimport reducer from './reducers'\nimport saga from './sagas'\nimport * as selectors from './selectors'\nconst moduleName = 'Main'\n\nexport {\n  moduleName,\n  reducer,\n  actions,\n  selectors,\n  constants,\n  saga\n}\n","\nconst allModules = (r) => r.keys().map((key) => r(key))\n\nexport const getAllModules = (requireContextModules) => {\n    const modules = allModules(requireContextModules)\n\n    return modules.filter((module) => module.moduleName)\n}\n\nexport const getAllModuleReducers = (requireContextModules) => {\n    const buildReducer = (state, module) => ({\n        ...state,\n        [module.moduleName]: module.reducer\n    })\n\n    const moduleReducers = getAllModules(requireContextModules, true)\n        .filter((module) => module.reducer)\n        .reduce(buildReducer, {})\n\n    return moduleReducers\n}\n\nexport const getAllModuleSagas = (requireContextModules) => {\n    const buildSaga = (module) =>\n        module.saga\n\n    const moduleSagas = getAllModules(requireContextModules, false)\n        .filter((module) => module.saga)\n        .map(buildSaga)\n\n    return moduleSagas\n}\n","\nexport const getRequireContextModules = () =>\n    require.context('../../modules/', true, /index.js$/)\n\nexport const getStore = () => {\n    const { store } = require('../store')\n    return {\n        state: store.getState(),\n        dispatch: store.dispatch\n    }\n}\n","import { combineReducers } from 'redux'\nimport { helpers as storeHelpers } from '../config'\nimport { getRequireContextModules } from './helpers'\nimport { firebaseReducer } from 'react-redux-firebase'\n\n\nconst releaseBasedReducers = storeHelpers\n  .getAllModuleReducers(getRequireContextModules())\n\nexport default combineReducers({\n  firebase: firebaseReducer,\n  ...releaseBasedReducers\n})\n","import { all, spawn, call } from 'redux-saga/effects'\nimport { helpers as storeHelpers } from '../config'\nimport { getRequireContextModules } from './helpers'\nfunction * rootSaga () {\n  yield all(storeHelpers.getAllModuleSagas(getRequireContextModules()))\n  const sagas = storeHelpers\n    .getAllModuleSagas(getRequireContextModules())\n  /*\n   * Keeping the root alive\n   * ref: https://redux-saga.js.org/docs/advanced/RootSaga.html\n   */\n  const decentralizedSagas = sagas.map((saga) =>\n    spawn(function * () {\n      while (true) {\n        try {\n          yield call(saga)\n          break\n        } catch (e) {\n          // eslint-disable-next-line no-console\n          console.log(e, 'Saga crash detected')\n        }\n      }\n    })\n  )\n  yield all(decentralizedSagas)\n}\nexport default rootSaga\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport { persistStore, persistReducer } from 'redux-persist'\nimport createSagaMiddleware from 'redux-saga'\nimport storage from 'redux-persist/lib/storage'\n\nexport default (rootReducer, mySaga, { reduxDevTools = false } = {}) => {\n    const sagaMiddleware = createSagaMiddleware()\n    const persistConfig = {\n        key: 'root',\n        storage,\n        whitelist: []\n    }\n    const persistedReducer = persistReducer(persistConfig, rootReducer)\n    const composeEnhancers =\n        (reduxDevTools && typeof window !== 'undefined' &&\n            (\n                window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ &&\n                window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n                    trace: true\n                })\n            )\n        ) || compose\n\n    const store = createStore(persistedReducer, composeEnhancers(applyMiddleware(sagaMiddleware)))\n    const persistor = persistStore(store)\n    sagaMiddleware.run(mySaga)\n    return {\n        store,\n        persistor\n    }\n}\n","import { store as baseStore } from '../config'\nimport rootReducer from './reducers'\nimport sagas from './sagas'\n\nexport const { store, persistor } = baseStore(rootReducer, sagas, {\n  reduxDevTools: process.env.REDUX_DEVTOOLS\n})\n","import {constants} from '../index'\nimport {getAction as action} from '../../../helpers'\n\nexport const get = ({\n    request: () =>\n        action(constants.LIST_REQUESTED),\n    success: (response) =>\n        action(constants.LIST_SUCCEEDED, {response}),\n    failure: (response, message) =>\n        action(constants.LIST_FAILED, {\n            response,\n            message\n        })\n})\n\nexport const add = ({\n    request: (data) =>\n        action(constants.ADD_REQUESTED, {data}),\n    success: () =>\n        action(constants.ADD_SUCCEEDED),\n    failure: (response, message) =>\n        action(constants.ADD_FAILED, {\n            response,\n            message\n        })\n})\n","export const LIST_REQUESTED = 'MAIN/LIST_REQUESTED'\nexport const LIST_SUCCEEDED = 'MAIN/LIST_SUCCEEDED'\nexport const LIST_FAILED = 'MAIN/LIST_FAILED'\n\nexport const ADD_REQUESTED = 'MAIN/ADD_REQUESTED'\nexport const ADD_SUCCEEDED = 'MAIN/ADD_SUCCEEDED'\nexport const ADD_FAILED = 'MAIN/ADD_FAILED'\n","\nimport { createSelector } from 'reselect'\nimport { moduleName } from '../index'\n\n\nexport const selectList = createSelector(\n  (state) => state[moduleName],\n  (data) => data.list\n)\n"],"sourceRoot":""}